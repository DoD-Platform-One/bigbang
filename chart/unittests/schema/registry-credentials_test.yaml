# yaml-language-server: $schema=https://raw.githubusercontent.com/helm-unittest/helm-unittest/main/schema/helm-testsuite.json
suite: Schema Validation - Registry Credentials
tests:
  - it: should pass validation with valid registry credentials
    set:
      registryCredentials:
        - registry: registry1.dso.mil
          username: ""
          password: ""
          email: ""
    asserts:
      - notFailedTemplate: {}

  - it: should fail validation with registry credentials containing null password
    set:
      registryCredentials:
        - registry: registry1.dso.mil
          username: ""
          password: null
          email: ""
    asserts:
      - failedTemplate:
          errorPattern: ".*password.*"
