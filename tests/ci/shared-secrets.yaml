---
# NOTE: This exists because we are using gpg as the encryption key.  In a production setting, we recommend using a
#       more secure means of encryption, such as AWS KMS or Vault. See https://github.com/mozilla/sops for a full list
#       of support encryption backends.
apiVersion: v1
kind: Secret
metadata:
  name: sops-gpg
  namespace: bigbang
data:
  bigbang-dev.asc: LS0tLS1CRUdJTiBQR1AgUFJJVkFURSBLRVkgQkxPQ0stLS0tLQoKbFFjWUJGNm53WHdCRUFDNkJUNDNhNmRhMVBndXNlRUNnRW0wcVlUa3RaMWhVaGgvZVlKUzVXNFdCSDBiL1Q0VwpYVWlWcUNmWUw5ZkxmMFlzRmZoeCtOK3Q3cWNFclZ5V1QwS2lGcHVPTEwwdjUwYllvUkxQRFErRmFvSjFBOFBsCng0VU5CazVmbVR2emZaYUp1WmFrb2ZENDFnbExBV2s1SC9hUCtBNGE5cTMrc2g5clZhYWdnWGk0WEVuWDdOMGEKZmhhMllJNTd5dVBVT0dyL1VOSFdhTFh0YnZUVTA0QVpHZTMwbE1jSi96L2xGeEVjaGRPNGVySHJlWDFScmZ1UQpsYThPYkhzNjlNamkxT0ltcXM0OGNlVy9PYVdNRnVDVmJWM29GWG5sTC9XKytzelVyTGVyMmlWT0J4bUlJb0RFCjhUeC9VOXgweGQ4N04zWWkvOEF5eC9qbStaNlowSlVmYVNCNUZhNmJqOXAzQXp1NEY0TGs0MEh5Rm5QNmt1UEsKQ2Rseld5dHVaNVk1bmQ4eSs0Y3lNZ2dCcGQ1UnF2dVRWbndmdk5FOFczSEROYzhmdGVRbVNiSUFkeVMyV1VzZwp2NTFwZEk1OUt2RmlRNjFyZUZRL3NFSnVDTnJVd1lvMGZma0MxUm1PT2t3TzYvSUVSUHpucFRHd3V4SFJocTBkCk1abHMxdDlBYUo4Z3pBZ0hwMVNDcGpWNWh1NDN5Z2YxUXNLazVTT1JVeFJwOFEzdnpWa2VJNFp2bGhPaS9CUkMKU09vRWNHS1R0SjhkOFQ1WnNraVRsc0ZrYmppdjd0Mld0YXE4QzJkV1YzWTNnT0ZmYStORXhZbHNhNENhZ3hocwpOdjlwNldUTm1ZanRJOVpOM0FMZDJ3alk2c3hjZGJyZ2MrVGlRNWNPbVJOMjNNUG00aGlzdkZFbCtRQVJBUUFCCkFBLy9SYlNkUWNzM1pSUVZBL3BuNUxZSjZJYjFZM2FpeU1zb251djdaL0ROTmJiczRzWWNzK2kwd0UvSXpudnYKRXpSWUtVRDZYa3J5Rm8wdFROVmhzbmwwOEtRa0dqeXRqL3ZNVW5UWlJYa1JiZDhoajVPZm5zVUxHSHhhZGZ4SAp1TkJBenM4YW9ncUU3OW5VbGFTcnQxcEEzR1lKY3hVbzBoNFJJL2x1ZlFySEg5NkZWVUpQQUJScmtsL1FSSmNjCmxIT250SkNtY1ArLzNIOE5nNHJWbjVKVjFxYkJodjk5QSsyRzNmZFFCUHNGSE1YanJlM1NMTFhLYVU5QlJqQmYKN28velJxWU9yaHZJQ2NZaVFNSjUyY1Nud2NYNmJXVnhZdVU4U0IySW5mOGFwNGlGaXJ2VElQbDh3QUcreElzNQpRVWxoSFhCVXB6TEVGRmxKa3ozVUEzY3pVVWZsQ2RPWEtnd3owb2M4ZGJXUDgxa3FhaUxGTStYdnlDNGE1VldHCjE4SzZ0a1Zwc1RSQ2RyZTZoWmxucWczWnB5ZE52bURjQ3ZyVVA5RkF0VjhLbXJmbThDWStzR3ZmYlp2Sm1IMWoKR0dHd2pQd1Ftb3J6YkFaR1hnQXVEcEdMdlJPNXRwMjBBQXlOU0dqZnFDck5JcnQyUnRFdlNMN0VvMXhXSks0Vwo1T3pwV3lYUVBORUl6dWFBZVhCUmpZZExMQlZIRlU4VEoxcmlTbTZKdmNoUENqVytkbE9PNVIyRERaa3QvVkpnCk1zaFJOcWJYd1RXTmRpTW42Wnd4bXR0eGpuckZNS3AzZmVDZXREdDFpYVVZUmFuWVFHUFcybE9yU1hCK0ExMXYKV29ya1Y1TzUvTDNuUWI3MmN2SWJaNWNyeDREemlWVG5TSzJqcndxZTZYVU1OUGtJQU1UOXdCU0JjQ3RWY2RObwpMcURHUzR6VFk2YUJIcm1CVzdTQ0RyRlA2MzhvZTF1ak8vdXhMU3kwdUs5d1R4Tm1VSjVHcXF3aW1UdEhmcDNaCkhzdmlTelJyZXBXMHQxbDBDaWw3dEFyU1hkVWttam5EeDBZUFk0Y09rNlY1SUNWWTBKbU85dzZKZ2tHYnpjSGMKdGpNSFIvdy8xbW9ub3BwMmx3eWpvU0ExeHRTZjRpS2dnc2EvZW5JMnh3aXFQOXdNR0cwSE83ZWRvRVd1djdiMApWZ2Y4ZkQ4Ylc3R24xQ3VjQUROT1orQXFOcVVOSUdIWHZDOHBlNlpkaUY2YlZpQ3JJdG1aNkZjbzlpMVBMaXlUClpHTWFWZ1NqY1JyVm9zVlBDRjBwWXRIaWVlZWNsK0wvUkZ3UUdFMkl3Q1VvdGJHUVNlS2tsUFlzdWJtK1FvbCsKRTZKMlE5c0lBUEcrTkErYzJkdlNCZHFKbmQzWnNHaUFXQkxHVERZa0NENjlyNjdQR2F0YWZsVFFwa2Q2N2ZnWQp3a2pSRFhURlBWWDlQVjNrRzZyYXZ2Uk5sNlFzVEpocU4zcEx4RXNLQlhiOUpGUHZMQlBmLzhyNzVacUczUFM3CmJUZzJNL3BJV3NTU0xRUVVJZlRiVE9ib0RzL0lmUFpaczlDVytMbFFPSjkvbVZGVzA4bHV4cHAwWWtQWjBmakQKM2VrTkxBcXpiWXZIbENiRkFkc2p3Vzl2cnFGTGdPb1haNXNZVEl0Q0x3OG5VMnJudWJ6eENySTNiSUFRQ3N5VwprMVF1YWc5UUdINGg5Sy9OdmRWSTlwUGdXSWRHTjJJUjBxZkF0Zkg1ZHZZcmFDaWhZbGhuVFVVekM4OWRLYlczCnJQemhpbks4cjIzODBDZElsZTZLMWl2TS9RSUhUN3NIL2lteUVEM3JDSW96dzhHMWE2eWJUekVGdUxIaWdCUUgKUzFVRFlaYUd4c0NJaS9YaUFYSjJKb3lvU2tGNzlWNGJtSU8rOG9qT2V2OUF1WlNVNTRYSlNqRkl6THF1L0JBSwptYlZpQUdjS1VrQVVyOXZGOUg0TGpmb0hWTEhKQ3NaY056bG9samVDTHlyUlUvMkRLeWZwUGJ2Nm54Y29xTnVUCnZUaGlaUm1EaDQzT0gvQnFTQkIvQ3luWDd5TmJEdnNRSTdMdUwwSmpmQTE1dTVEZEVibGM1c09VNjR0TEFIU24KWDM0UXB3bkxHbU1Ca0hPOTRnUWFMWmlGUkdENjBCK0VUeWRoeFM4Sm50SVdDeWZ5bXVPK3hFTldUNWxsbWxYTApNVktBcWJlTUQ2TFY5SE5ySWxGOW5oMHNkM2tqUkNlRndNanE2dGJhZmxvMk02b3QvUWRnZlhCNkdyUTdZbWxuClltRnVaeTFrWlhZZ0tGTm9ZWEpsWkNCRVJWWkZURTlRVFVWT1ZDQlBUa3haSUd0bGVTa2dQR0pwWjJKaGJtZEEKWkhOdmNDNXBiejZKQWs0RUV3RUlBRGdXSVFSQnYvaTY4bGhnT2ZZcFBZTmFMb0lNSmY1U2ZBVUNYcWZCZkFJYgpBd1VMQ1FnSEFnWVZDZ2tJQ3dJRUZnSURBUUllQVFJWGdBQUtDUkJhTG9JTUpmNVNmRWtWRC85a25IejluMzRGCnRkRlhLbmYvQXJ0dlhWZDNKTXl4UjE0dWNMTjNWN0FPSldQelMzNjduRmswdXNUdDFDbjRGYkRKd0t3dzFnSmkKUjBIMW9ndU41SnFuakI3aStVelpSQjFoVngxRk10SnZFcmlaUjR0MTZ2cENRd3p0eS9Sa1dmVzNyazkxOW9mawpzOVkzNlVIZFpvZjM1Y2F6UmpKeWJYaGgydFpkb0NHeHArU1htYzEwcTJYVG1CSzRZTnU4aU9jbkptZ0tLeGt1CklXVXQ2YkFUK0hkZnNVdjJINS92aUpkT1JqWjQ2RDBacDJLZGV4cld6M0xja0dBWEt1R25LeVNUSWU4cXlkRTcKbGpYbGh1ZHdjdWtKZmI2Q2l5NmVJdmdlQWxramRlVEhCN1NIK1A4QTUyYThzTUZ5U3FGY0lXVE1Tdi94WHFTbApqYzRGMHcvQ0ZGeXMwaHpnN3RxSEF6VmxVQUNyd3BhLzZnci9wZU1VVUNJdjlUQmZkNENIVS9WZHdwa3dJQmN0CmRwYkwxMlFBMGgwR0NsSHhHaDNJaG1wMnVGVkVickVhYXkrQ2ExQWxLTWdiaDBKZ0ZCSnpHV0owY3NpRHdYZkYKcVN4R1dVcmFwa0Q5WktpY1o1dm8vbGNLaWRmMGpSemxueFlpdnhiOFY1RzExWksycUNzMmtUZjA3U3lFcW1LOApmNTcrci9kNk0vdlRaSG01VUF1Z0pHb0ZkemJrb1E4cHhpdzhwck1INUpVd3JHUko0MHdIK2djSWxqWmFZVENiCmljZmJmcldueStwY3p6aDdndThacmRBdTZOejJPdVYxSUZjZ25GQzZrb01YQlU2RnFsVitlVkdaMjdjYzk5RmMKM0ZoYWNCd2NjTFlKUlJMditLOXhIdlNxMGlzMGdnWHRpSjBIR0FSZXA4RjhBUkFBcVlLSHpDWlVkK0lSaEdrRgpGQ3ZxR3JRL1g5SUt2WlA5b2FTT1BES3c2cUo5VHluMEppZE53RWxxZjRPZ0xjdzgwLzE4c2pBNklGeVZvL1hvClB6Zi9qaHFhNmRBdUpMREhpczZWOEZLMjNVTlZxOG56YjdSZ2JEU1hjU3JkSmRBd2dwVlRHaUJJUWlUa1dlbmkKcE9IbkpqNEVlWjRoUjFvNUw1R2RvVHlhWHp1UGxwZVErcXRKVjJERXdJTmF3bk9zVGYzVWhaaHRHbUc5NlB4bApkbmdnNjFxTXNYaHpYcXJoaVJLZHNBQmYrOTlvUkZzUU41akh4TjVGVnpPSGJXZnZFcXJWKzgrQ1UvMXF6UFRJCmtNVm1NTEt2WkgvS1hsKzFRd05acTlScnRSRk83dGxaS2FBelIrOHEvTTBOTTQyL0xiVjVFTVZBenV1eDdOVE0Kc3hERFFrRndDL0g3d2EyTDNzNVh2T3ZpVjJGZmIvMWhVcDFEa1BPeHM3OHhqV3NTcEJ0QmdvcERvR05sTGU0VgpoYVhFVWdRYjRYdmZSdERsYVZseDd5dVllUHVzN21lQ3dqODhwUVJsMlRnTGhDM1NRV1c0YXJMSHVGUFIzY2NDCkIzbG1iQjFGMnEzNlhENi81RU9zV1NWN1NJSklRanZlMCsvaXMzS0dhUTNwL3Vvam90V3hEeUVjdm5jWGs4bmUKZ0pBQXZaK05oWmR6My9KRTJKVHhDWDdud3RGMXljZkdWYWM2aGNFVUpIbDlZdUhZVVF1UFZwSWZBUHUyemR0ZApWa1EyZG83bkxGS0s0NDROajVxNzhOTyt0THA4dCt3WTFPQXdYaGUxaUZjMitHSnlWdkQwQlkrZWV3MnhocEI2Cm1GUEJZc2dzTE9HbDU0anZpOVlNV1dzVW1tVUFFUUVBQVFBUC9BbmpXbWFYU2RBZ2VPTWZlVE5mQ0czOFc4SU0KTDZJMWN0TXVGVG4vdndCQThFeGc1eVFlb05ONXRPT3hXdk93K1U5b2R4Q3g3WUlieElMbkFtQkZ0UHVtSTZsRwpBcHNUVU9DUkFvQWRZeHR2SlIwN1Q1OFJoNXBvU3ZsSUJkU0IyNEtTa1dGeHhxVk5INkQ3R3NTQmhRbGZEc1hGCmFxMk4zczRla1hKcFpadnVqb2E3V3JLMHNUZU9wb3VRWGdmLzFXcExSMDF2d2RXTEpCZm1PVWo2NHZpM3RJTloKd21rZ1VMMjlQME9ZRWdGUVcvVzQxaTVZRkRjd3ZCekZIYjVORk00aTl3NlVZVWJpL29yc01KTDVZT2V3VkxqcApGM1gvNFVRQ2V3V2lBNUp4YXdoVjEzU3RLckNraS81cE83N3BJdURZdURJNVAzbVNtRE4zaW1WYnNmZ2dIMXJRCjNYOFNwYm5DVGtOOHNqLy8wOFhXTkV2SFpRZ2MyTFVSUjZEZ3ZVMXkzNkFCdW9wT3cydkRSSndDWG9obUlmUXgKbERnQVlvUUR5UHhvMnZ1UGszM1UycEd0R003d3ViUjd3U3M2OWZWdXQ0cnlra2FpaEgxNHRuQTI2V012RmdzMApROGI3aG56NTFWNUFGRW1tcEk4RGxUb0VXRkdjY1FwRnJrQzYrV0UzWEVuTFJUWGlnS1piRlZob2hXUndiSGxzCndsTmVoSGR5UWRJN1lsRU1MTlFQVEJnZFhCWHNoRitWeUJQai9vTm54TXJvdEovNGFoQklSdm04R2RCbG44amkKRVZiMnlMNUpDVWZhckUwTWdLVy9uVWJzRkN3eVFrQlVEYVIvdWhnWmhsYmJ2ZGFUZVBXcEkreHBJdTdKUmR3TgpPOHRMZzMyNk5RTnkxbUdoQ0FERTFUZHhTa25oS285RC9Xejh4UjF3MUlWRWllZGJMWjI2OXVpSmRxajFNcGs3ClkwTGt3aEx0YWdzRVZrbGMvU1d6VDRzaW9aQUpWb2JnQTVVQ2JJUXZVTldEZHF0M1FXWU1QcUgvUTByUUhZZmIKNzNndG1Wc2xaWFdHVFdJdXZ3UFExcjhtdTRmenEyRDk4MzlEMGdyM0VpdmlYWEFSaTMrRlNqakJLTHV5Y2J3cQpkZGoyNGFCVXdmTGY0RXgzUjNJekdoRUpsSFBpTVYwbjE5T0p4Mko1c0RwdkhiL05tdGVieUtVRXRmcFFSYlIzCjJ2dk1UOU00YlVxWm5Lc2xkYlpZZkRpZzl2SHl0TFFIZ29PVGRBQW10bkxDTW1jaTZoa0tBQm10WGs3aS9EV28KZGJaTTY5MUVicExZK0ZwRVhLWElTdkFuVEZaRnY3dGN0dm5QUyttcENBRGNkcjI0YzkyMDQ3cEhEYWRCc29IcgpkLzBqY0JpVVZFSS9DVWZESEF1Yjl4Q3dRS0FkM242MWFjcUs1djQxL2ZibXhaNS95TUhzQkxhR3diVk82YUtICnVCUEhTeERZQlNkdDl3NGtnLzFid0ZtYUR3TmpKaDBjaVRPOWRzYlJFMWgyckNpUXdXUUs5d1AwTkhXYmxPYlUKeWlwdDJKcFdsWHRDS3U1dFE0dVc2THNwQlc0S3NPVThGRmxaSy9rdGtBeEtLL0xsNFFWSThGUTBTN3cwYjlVcApHMUx2NnZ3MDBHa1EvRFRxZEtuOG5xTmphUzAwVkdQZHpXSW5mRjJCT0F1M3RoNFhXTkF2Rmx2VEFKVVk2RGlrClJJdTVxeEE4S2NyQUFHUkRoMVQzTi8vMkNFdUJWQnd4RmVCOTRhRENmekdpc040OG1ueDd0OHpnenhHS0hmaGQKQi8wZnJ4Z0RneUpmc3U3MjRYYTJoUTh6WFVoNEdiYXY4YVdINmF5K1ZQVUw3bzhacmpXN09hQjVWNmVBdjBGUwpnM2YzM2JkekJSY0gxSHMxQVhWckpWS1B6Mk5UbVk3NEVSSkg3Qkp4T21xMDlTc1hGQ1JPeXZHaW8xSkoxVm9jCm8vbUR5SDVCWWFsbjY5UWU0UUdYTFJQMlF4NVR5OEtjY05EcEJWRG02YlhnTFhaK1NxUUZlZFVpdkswcEMzYUQKbFc2eUhManorWUhwWk1ydWxmR2JCa2dKMml6SDJkWTFEUWZDbjhTcGRReG5aNW5PRDNtYU0zSTJRdTVlM20rawp2NVN1SlJXQVkvZnBwUlY3WDRvK0p0NnpaSEViMmF6blRYQ3I0R2NySGsycytFdS9GV1FHVjBpbmtWTTQvci9vCno4Mlo0ZEZvekhzQWZtL3piTzJXbVZUZmZTMkpBallFR0FFSUFDQVdJUVJCdi9pNjhsaGdPZllwUFlOYUxvSU0KSmY1U2ZBVUNYcWZCZkFJYkRBQUtDUkJhTG9JTUpmNVNmQXBqRC85Mk9RTDdUbnBBemFSR05NMDFPMUtVTGFHVApkYWsvZkVwa2NUMTFrMWRKeDY3b1NrdmRvYWlSK1NMbWsvaHJJVmJ1MWxINzd3b1JYcmxpdHRCSmFkbExsbDFoCnFkSGd1RHdBQ0Q3QVZpMkZhdlRvTVNVSHF6L01NaFVkS3Jvd3lPdmVGbSsweCtSeFFoWTlId2lzbGRpZ1pyT2UKajNWdFZRR2NHSU5YYmFOdUdUSUNScU5nMXhDdmdzMm9EU0d0VE1DU2N1ZzNMTUVnaEpYUGVIZHdyVy9HcFJoMgo4WkxIbS9Qem1NMTRUUjhpV2pmWkVNMDZ0djZxaGc2NUVMNEVtNG5XUXdRbjgwbnFtNGMwWnk2RjlKd2tmbnYxCm1rVGJISnBUUDQ4SWlQNW12WGVtNHN5R0JhSFZ2RzlMdXpKZUxCV09qdUVQQUFBTCs2QzR2UkZhK29KL09PaU0Kb0xVbWVyMjg2ZDV6cWJwb05PVjI5RUMvYS9uc2ZBMTZNWHhXQmNTV0s5ZHlxekc3K1pjTEZSRHdkdmhkYzNrWgp3eXhOR0hocHROVHAwU3hkb2JBa0N5R3VFMVJTNWtuWUNjTTJ0dnZFVmxhUHNzbldoVlQ4OXMzYndVWnl6eU05CkllM0FuSTBZajNqVFZnRU9IaUdpMVpleFNNa3NTSEZzVG93Rk1TUXF0L0FJV25tL0tPZ1E3dkFLbjUxVFdaTW8KZ0lKakMxelMwZjlYalpiZzFTdWRUanF5TkJjRDc3cEVFZWxsUHZ2V2ZFd2VIeHY3UTBKamhKMFNBNTZsM0ZSRgpYZm0wSGY2a0lMSEV4MEVGbElkTXNPTFp6c3Y4UzRuRkdjN2RzTzBKdHdWTW5FWm9VN1J4M3BQQkpaZGx6akYvCnQzZ2xmTnNFSnI2YTdKQWltdz09Cj1mM1I0Ci0tLS0tRU5EIFBHUCBQUklWQVRFIEtFWSBCTE9DSy0tLS0tCg==

---
apiVersion: source.toolkit.fluxcd.io/v1beta1
kind: GitRepository
metadata:
  name: secrets
  namespace: bigbang
spec:
  interval: 1m0s
  # NOTE: We could use the same "bigbang" repository, but secrets are usually committed to a consumer owned repo,
  #       so we are demonstrating that here with a new `GitRepository` resource pointed to the same repo
  url: https://repo1.dsop.io/platform-one/big-bang/umbrella.git
  ref:
    branch: master
---
apiVersion: kustomize.toolkit.fluxcd.io/v1beta1
kind: Kustomization
metadata:
  name: secrets
  namespace: bigbang
spec:
  interval: 5m0s
  sourceRef:
    kind: GitRepository
    name: secrets
    namespace: bigbang
  # See the NOTE above
  # NOTE: This points to a folder _without_ a kustomization.yaml, flux generates the kustomization.yaml for us with resources comprised of all the files within the folder
  path: "./tests/ci/secrets"
  prune: true
  decryption:
    provider: sops
    secretRef:
      name: sops-gpg